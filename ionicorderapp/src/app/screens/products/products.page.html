<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
  <ion-refresher-content
    pullingIcon="chevron-down-circle-outline"
    pullingText="Yenilemek için kaydırın."
    refreshingSpinner="circles"
    refreshingText="Güncelleniyor...">
  </ion-refresher-content>
</ion-refresher>


  <!--- HEADER --->
  <div class="header">
    <img width="100px" src="https://www.elronproweb.com/Content/images/logo-white.svg">
    <div class="avatar">
      
      <ion-button expand="block" color="medium" size="small">
        <ion-icon style="margin-right: 7px; font-size: 14px;" name="reload"></ion-icon>
        <ion-label style="font-size: 12px;">Son Siparişi Tekrar Et</ion-label>
      </ion-button>
    </div>
  </div>

  <ion-fab [routerLink]="['/home/shopping-cart']"  *ngIf="(cartItems|async).length" vertical="center" horizontal="start" slot="fixed">
    <ion-fab-button style="--background: #5081ca">
      <ion-icon name="Cart-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>


  <!--- SEARCHBAR --->
  <ion-searchbar [(ngModel)]="term" placeholder="Ara..." class="ion-no-padding"></ion-searchbar>
  
  <!--- CATEGORY --->
  <!-- <div class="categories">
    <app-category-item *ngFor="let item of categories" [item]="item"></app-category-item>
  </div> -->

  <!--- PRODUCTS --->
  <h1 class="list-header">Ürünler</h1>
  <div class="product-list">
    <!-- <app-product-card *ngFor="let product of products" (clicked)="goToDetailPage(product.id)" [item]="product"></app-product-card> -->
    <div class="card" *ngFor="let product of products | filter:term" >
      <ion-img [src]="product.image" (click)="goToDetailPage(product.id)"></ion-img>
      <div class="card-content" >
        <h3 class="title" (click)="goToDetailPage(product.id)">
          {{ product.title }}
        </h3>
        <h2 class="subtitle">
          {{ product.price | number: '1.2' }}
          <sup>₺</sup>
        </h2>

        <div class="actions">
          <ion-buttons>
            <ion-button (click)="addItemToCart(product.id)">
              <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
            <div class="counter"></div>
            <ion-button (click)="RemoveItemToCart(product.id)">
              <ion-icon slot="icon-only" name="remove"></ion-icon>
            </ion-button>
          </ion-buttons>
        </div>

      </div>
    </div>
  </div>
</ion-content>